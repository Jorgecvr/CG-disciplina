<!DOCTYPE html>
<html>
<head>
    <title>T3 - Mini Tanks Mobile</title>

    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="./style/loadingScreen.css">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">  
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">

    <link rel="stylesheet" href="../libs/other/buttons.css">  
  </head>

<body>
  <!-- Import maps polyfill -- Remove this when import maps will be widely supported-->
  <script async src="https://unpkg.com/es-module-shims@1.3.6/dist/es-module-shims.js"></script>  
  <script type="importmap"> 
    {"imports": {"three": "/CG-disciplina/build/three.module.js"}} 
  </script>
  <script src="../libs/other/nipplejs.js"></script>
  
  <div id="game-container"></div>

  <div id="start-screen">
    <h1>Mini Tanks</h1>
    <div class="loader"></div>
    <button id="start-btn">START</button>
  </div>

  <div id="end-screen" style="display: none;">
    <h1>Você terminou o jogo.</h1>
    <button id="restart-btn">RESTART</button>
  </div>

  <div id="joystickWrapper1"></div>

  <button style="bottom:20px; right: 120px;" 
          id="A" class="video-game-button">Shot</button>

  <button style="bottom:20px; right: 20px;" 
          id="B" class="video-game-button">Audio</button>        

  <button style="top:10px; right: 10px; width: 1emp; line-height: 1.4em; font-size: 10pt; background-color: #cccccc; background-image:none"
          id="full" class="video-game-button">[ ]</button> 

  <div id="webgl-output" style="display: none;">
    <script type="module" src="/CG-disciplina/T3/AppMobile.js"></script>
  </div>

  <script>
    // Quando a página estiver completamente carregada.
    window.onload = function() {
      // Esconde o símbolo de carregamento.
      document.querySelector('.loader').style.display = 'none';
      
      // Habilita o botão de start.
      const startButton = document.getElementById('start-btn');
      startButton.disabled = false; // Habilita o botão.
      startButton.style.backgroundColor = '#3498db'; // Muda a cor para indicar que está ativo.
      startButton.style.cursor = 'pointer'; // Muda o cursor para indicar clicável.
      startButton.style.opacity = '1'; // Torna o botão visível.
    };

    // Inicialmente, desabilite o botão.
    document.addEventListener('DOMContentLoaded', function() {
      const startButton = document.getElementById('start-btn');
      startButton.disabled = true; // Desabilita o botão.
      startButton.style.backgroundColor = 'gray'; // Muda a cor para indicar desabilitado.
      startButton.style.cursor = 'not-allowed'; // Muda o cursor para indicar não clicável.
    });
  </script>
</body>

</html>